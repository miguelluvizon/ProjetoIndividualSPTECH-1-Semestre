<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/icon/favicon2.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamestudy | QUIZ</title>


    <link rel="stylesheet" href="./../css/dashboards.css">
    <link rel="stylesheet" href="./../css/estilo.css" />
    <script src="../js/sessao.js"></script>
    <!-- <script src="./../js/alerta.js"></script> -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
</head>


<body>

    <div class="janela">
        <div class="header-left">
            <img src="../css/imagens/logo (1).png">
            <h1>Gamestudy</h1>

            <div class="hello">
                <h3>Seja bem vindo, <span id="b_usuario">usuário</span>!</h3>
            </div>

            <div class="btn-nav-white">
                <a href="./cards.html">
                    <h3>Tela inicial</h3>
                </a>
            </div>

            <div class="btn-nav">
                <h3>Quiz</h3>
            </div>

            <div class="btn-nav-white">
                <a href="./perfil.html">
                    <h3>Perfil</h3>
                </a>
            </div>

            <div class="btn-nav-white">
                <a href="./disputa.html">
                    <h3>Disputa</h3>
                </a>
            </div>

            <div class="btn-logout">
                <a href="./../index.html">
                    <h3>Sair</h3>
                </a>
            </div>
        </div>
    </div>

    <div class="dash">
        <div class="painelquiz">
            <div class="iniciarQuiz" id="inicarQuiz">
                <h1>Quiz de jogos</h1>
                <p>Para testar seu conhecimento sobre o mundo dos games com 10 perguntas diversas !</p>
                <button onclick="iniciar()">Iniciar</button>
            </div>
            <div class="perguntasquiz">
                <div id="perg1" style="display: none;">
                    <h1>Qual a cor do personagem sonic?</h1>
                    <img src="./../css/imagens/sonicpergunta.png"> <br>
                    <input type="radio" id="perg1A" onclick="verificar()"> azul
                    <input type="radio" id="perg1B" onclick="verificar()"> vermelho
                    <input type="radio" id="perg1C" onclick="verificar()"> laranja
                    <input type="radio" id="perg1D" onclick="verificar()"> amarelo
                </div>
                <div id="perg2" style="display: none;">
                    <h1>De qual jogo é o personagem Scorpion, o ninja amarelo?</h1>
                    <img src="./../css/imagens/scorpionpergunta.jpg"> <br>
                    <input type="radio" id="perg2A" onclick="verificar()"> Mortal Kombat
                    <input type="radio" id="perg2B" onclick="verificar()"> Street Fighter
                    <input type="radio" id="perg2C" onclick="verificar()"> Tekken
                    <input type="radio" id="perg2D" onclick="verificar()"> King of Fighters
                </div>
                <div id="perg3" style="display: none;">
                    <h1>Quem é o rival do personagem ryu do street fighter?</h1>
                    <img src="./../css/imagens/ryupergunta.jpg"> <br>
                    <input type="radio" id="perg3A" onclick="verificar()"> Ken
                    <input type="radio" id="perg3B" onclick="verificar()"> Sagat
                    <input type="radio" id="perg3C" onclick="verificar()"> Akuma
                    <input type="radio" id="perg3D" onclick="verificar()"> Bison
                </div>
                <div id="perg4" style="display: none;">
                    <h1>Quem é o irmao do personagem mario?</h1>
                    <img src="./../css/imagens/warioperg.jpg"> <br>
                    <input type="radio" id="perg4A" onclick="verificar()"> Bowser
                    <input type="radio" id="perg4B" onclick="verificar()"> Toad
                    <input type="radio" id="perg4C" onclick="verificar()"> Wario
                    <input type="radio" id="perg4D" onclick="verificar()"> Luigi
                </div>
                <div id="perg5" style="display: none;">
                    <h1> Qual o nome do protagonista de The witcher?</h1>
                    <img src="./../css/imagens/geraltperg.jpg"> <br>
                    <input type="radio" id="perg5A" onclick="verificar()"> Eredin
                    <input type="radio" id="perg5B" onclick="verificar()"> Geralt
                    <input type="radio" id="perg5C" onclick="verificar()"> Regis
                    <input type="radio" id="perg5D" onclick="verificar()"> Vesemir
                </div>
                <div id="perg6" style="display: none;">
                    <h1>Qual o jogo do sonic onde ele se transforma em um lobisomem?</h1>
                    <img src="./../css/imagens/werehog.png"> <br>
                    <input type="radio" id="perg6A" onclick="verificar()"> Sonic frontiers
                    <input type="radio" id="perg6B" onclick="verificar()"> Sonic unleashed
                    <input type="radio" id="perg6C" onclick="verificar()"> Sonic forces
                    <input type="radio" id="perg6D" onclick="verificar()"> Sonic rush
                </div>
                <div id="perg7" style="display: none;">
                    <h1>Qual foi a primeira rivalidade de mascotes do mundo dos jogos?</h1>
                    <img src="./../css/imagens/rivaisperg.jpg"> <br>
                    <input type="radio" id="perg7A" onclick="verificar()"> sonic & mario
                    <input type="radio" id="perg7B" onclick="verificar()"> mario & link
                    <input type="radio" id="perg7C" onclick="verificar()"> sonic & starfox
                    <input type="radio" id="perg7D" onclick="verificar()"> goku & vegeta
                </div>
                <div id="perg8" style="display: none;">
                    <h1>Quando foi que o minecraft foi lançado?</h1>
                    <img src="./../css/imagens/minecraftperg.jpg"> <br>
                    <input type="radio" id="perg8A" onclick="verificar()"> 2011
                    <input type="radio" id="perg8B" onclick="verificar()"> 2012
                    <input type="radio" id="perg8C" onclick="verificar()"> 2015
                    <input type="radio" id="perg8D" onclick="verificar()"> Ontem
                </div>
                <div id="perg9" style="display: none;">
                    <h1>Qual o nome da franquia de jogos onde tudo é feito de peças?</h1>
                    <img src="./../css/imagens/legoperg.jpg"> <br>
                    <input type="radio" id="perg9A" onclick="verificar()"> kogama
                    <input type="radio" id="perg9B" onclick="verificar()"> gta V
                    <input type="radio" id="perg9C" onclick="verificar()"> lego
                    <input type="radio" id="perg9D" onclick="verificar()"> pong
                </div>
                <div id="perg10" style="display: none;">
                    <h1>Quantos jogos tem a franquia FNAF?</h1>
                    <img src="./../css/imagens/fnafperg.jpg"> <br>
                    <input type="radio" id="perg10A" onclick="verificar()"> 3
                    <input type="radio" id="perg10B" onclick="verificar()"> 10
                    <input type="radio" id="perg10C" onclick="verificar()"> 8
                    <input type="radio" id="perg10D" onclick="verificar()"> 7
                </div>
                <div id="perg11" style="display: none;">
                    <h1>Qual o nome do principal vilão de sonic?</h1>
                    <img src="./../css/imagens/dr.eggman.jpg"> <br>
                    <input type="radio" id="perg11A" onclick="verificar()"> Mephiles
                    <input type="radio" id="perg11B" onclick="verificar()"> Eggman
                    <input type="radio" id="perg11C" onclick="verificar()"> Dr. Ivo robotinik
                    <input type="radio" id="perg11D" onclick="verificar()"> Shadow
                </div>
                <div id="perg12" style="display: none;">
                    <h1>O protagonista "CJ" faz parte de qual jogo?</h1>
                    <img src="./../css/imagens/cjgta.jpg"> <br>
                    <input type="radio" id="perg12A" onclick="verificar()"> Animal crossing
                    <input type="radio" id="perg12B" onclick="verificar()"> GTA san andreas
                    <input type="radio" id="perg12C" onclick="verificar()"> Call of duty
                    <input type="radio" id="perg12D" onclick="verificar()"> GTA 5
                </div>
                <div id="perg13" style="display: none;">
                    <h1>Quem é esse pokemon?</h1>
                    <img src="./../css/imagens/rayquaza.png"> <br>
                    <input type="radio" id="perg13A" onclick="verificar()"> Rayquaza
                    <input type="radio" id="perg13B" onclick="verificar()"> Garchomp
                    <input type="radio" id="perg13C" onclick="verificar()"> Darkrai
                    <input type="radio" id="perg13D" onclick="verificar()"> Seviper
                </div>
                <div id="perg14" style="display: none;">
                    <h1>Quem é esse macaco?</h1>
                    <img src="./../css/imagens/DK.png"> <br>
                    <input type="radio" id="perg14A" onclick="verificar()"> Mr.monkey
                    <input type="radio" id="perg14B" onclick="verificar()"> Donkey Kong
                    <input type="radio" id="perg14C" onclick="verificar()"> King Kong
                    <input type="radio" id="perg14D" onclick="verificar()"> Macaco
                </div>
                <div id="perg15" style="display: none;">
                    <h1>Qual é o jogo do sonic onde o vilão mata o protagonista?</h1>
                    <img src="./../css/imagens/mephiles.jpg"> <br>
                    <input type="radio" id="perg15A" onclick="verificar()"> Sonic battle
                    <input type="radio" id="perg15B" onclick="verificar()"> Sonic 3
                    <input type="radio" id="perg15C" onclick="verificar()"> Sonic chaos
                    <input type="radio" id="perg15D" onclick="verificar()"> Sonic 2006
                </div>

            </div>
            <div id="resultadoquiz" style="display: none;">
            </div>
            <div id="botaofinalizar" class="botaofinalizar" style="display: none;">
                <h1>Você acertou <span id="porcentagem_quiz"></span>% do quiz!</h1>
                <!--importante definir um id para o span para ele ser manipulado depois-->
                <button onclick="jogarbanco()">Ver estatísticas</button>
            </div>
        </div>

    </div>
    </div>
    </div>
</body>

</html>

<script>
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    let proximaAtualizacao;

    var questao_atual = 1;
    var pontuacao_acertos = 0;
    var pontuacao_erros = 0;

    var certasdash = 0;
    var erradasdash = 0;

    function iniciar() {
        document.getElementById('inicarQuiz').style.display = 'none'
        document.getElementById('perg1').style.display = 'block'
    }

    function verificar() {
        if (questao_atual == 1) {
            if (perg1A.checked) {
                pontuacao_acertos++
            } else if (perg1B.checked || perg1C.checked || perg1D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg1.style.display = "none";
            perg2.style.display = "block";
        } else if (questao_atual == 2) {
            if (perg2A.checked) {
                pontuacao_acertos++
            } else if (perg2B.checked || perg2C.checked || perg2D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg2.style.display = "none";
            perg3.style.display = "block";

        } else if (questao_atual == 3) {
            if (perg3C.checked) {
                pontuacao_acertos++
            } else if (perg3A.checked || perg3B.checked || perg3D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg3.style.display = "none";
            perg4.style.display = "block"
        } else if (questao_atual == 4) {
            if (perg4D.checked) {
                pontuacao_acertos++
            } else if (perg4A.checked || perg4B.checked || perg4C.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg4.style.display = "none";
            perg5.style.display = "block"
        } else if (questao_atual == 5) {
            if (perg5B.checked) {
                pontuacao_acertos++
            } else if (perg5A.checked || perg5C.checked || perg5D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg5.style.display = "none";
            perg6.style.display = "block"
        } else if (questao_atual == 6) {
            if (perg6B.checked) {
                pontuacao_acertos++
            } else if (perg6A.checked || perg6C.checked || perg6D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg6.style.display = "none";
            perg7.style.display = "block"
        } else if (questao_atual == 7) {
            if (perg7A.checked) {
                pontuacao_acertos++
            } else if (perg7B.checked || perg7C.checked || perg7D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg7.style.display = "none";
            perg8.style.display = "block"
        } else if (questao_atual == 8) {
            if (perg8A.checked) {
                pontuacao_acertos++
            } else if (perg8B.checked || perg8C.checked || perg8D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg8.style.display = "none";
            perg9.style.display = "block"
        } else if (questao_atual == 9) {
            if (perg9C.checked) {
                pontuacao_acertos++
            } else if (perg9A.checked || perg9B.checked || perg9D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg9.style.display = "none";
            perg10.style.display = "block"
        } else if (questao_atual == 10) {
            if (perg10B.checked) {
                pontuacao_acertos++
            } else if (perg10A.checked || perg10C.checked || perg10D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg10.style.display = "none";
            perg11.style.display = "block"
        } else if (questao_atual == 11) {
            if (perg11C.checked) {
                pontuacao_acertos++
            } else if (perg11A.checked || perg11B.checked || perg11D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg11.style.display = "none";
            perg12.style.display = "block"
        } else if (questao_atual == 12) {
            if (perg12B.checked) {
                pontuacao_acertos++
            } else if (perg12A.checked || perg12C.checked || perg12D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg12.style.display = "none";
            perg13.style.display = "block"
        } else if (questao_atual == 13) {
            if (perg13A.checked) {
                pontuacao_acertos++
            } else if (perg13B.checked || perg13C.checked || perg13D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg13.style.display = "none";
            perg14.style.display = "block"
        } else if (questao_atual == 14) {
            if (perg14B.checked) {
                pontuacao_acertos++
            } else if (perg14A.checked || perg14C.checked || perg14D.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg14.style.display = "none";
            perg15.style.display = "block"
        } else if (questao_atual == 15) {
            if (perg15D.checked) {
                pontuacao_acertos++
            } else if (perg15A.checked || perg15B.checked || perg15C.checked) {
                pontuacao_erros++
            }
            questao_atual++;
            perg15.style.display = "none";
            botaofinalizar.style.display = "block"

            var calculo_porcentagem = (pontuacao_acertos / 15) * 100; // No final da lógica do quiz, foi implementado um calculo de porcentagem baseado nos acertos do usuário
            porcentagem_quiz.innerHTML = calculo_porcentagem; // E aqui essa porcentagem é exibida no span 
        }
    }

    function jogarbanco() {
        document.getElementById('botaofinalizar').style.display = 'none';
        window.location = "cards.html";

        var certas = pontuacao_acertos;
        var erradas = pontuacao_erros;
        fetch("/usuarios/jogarbanco", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                respostasCorretasServer: certas,
                respostasIncorretasServer: erradas,
                idusuarioServer: sessionStorage.ID_USUARIO,
            }),
        })

    }


</script>